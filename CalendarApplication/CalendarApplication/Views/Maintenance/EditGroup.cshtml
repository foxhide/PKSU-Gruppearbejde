@model CalendarApplication.Models.Group.GroupModel

@{
    ViewBag.Title = "EditGroup";
}

@using CalendarApplication.Models.User;

<script src="@Url.Content("~/Scripts/create-eventtype.js")" type="text/javascript"></script>

<h2>@(Model.ID != -1 ? "Edit Group" : "Create Group")</h2>

<h3 style="color:red">@TempData["errorMsg"]</h3>

@using (Html.BeginForm(new { ReturnUrl = ViewBag.ReturnUrl }))
{
    @Html.HiddenFor(model => Model.ID)
    <b>@Html.LabelFor(model => Model.Name)</b><br />
    @Html.EditorFor(model => Model.Name)
    @Html.ValidationMessageFor(model => Model.Name)
    <br />
    
    <!--Consider putting some description here!-->
    
    <!--Styles needed for fields view. Putting it here avoids duplication code-->
    <style>
        #fields td {padding:0;padding-left:5px;padding-right:5px}
        #fields tr {padding:0;}
        #fields th {padding:0;}
    </style>
    
    <fieldset>
        <legend>Group Management</legend>
        Group Leaders
        @Html.ListEditorFor(m => m.groupLeaders, "Group Leaders", "Group Members")
        <br />

        Group Members
        @Html.ListEditorFor(m => m.groupMembers, "Group Members", "Approved Users")
        <br />
    </fieldset>
    
    <input type="submit" value="@(Model.ID != -1 ? "Save changes" : "Create Group")"/>
}