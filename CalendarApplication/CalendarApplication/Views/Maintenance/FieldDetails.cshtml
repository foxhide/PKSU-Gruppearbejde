@model CalendarApplication.Models.EventType.FieldDataModel

@using CalendarApplication.Models.EventType;

<table style="border: solid black 1px">
    <tr>
        <td><label for='Name_@(Model.ViewID)'>Name of field</label></td>
        <td><label for='Type_@(Model.ViewID)'>Datatype of field</label></td>
        <td><label for='Desc_@(Model.ViewID)'>Description of field</label></td>
        <th rowspan="4" style="vertical-align:middle">
            <button type="button" onclick=removeField(@(Model.ViewID),@(Model.ID))>Remove</button>
        </th>
    </tr>
    <tr>
        <td><input type='text' id='Name_@(Model.ViewID)' name='TypeSpecific[@(Model.ViewID)].Name' value="@(Model.Name)"></td>
        <td>
            <select id='Type_@(Model.ViewID)' name='TypeSpecific[@(Model.ViewID)].Datatype' onchange="updateVarChar(@(Model.ViewID));">
                @for (int i = 0; i < FieldDataModel.DATA_TYPES.Count; i++)
                {
                    <option value="@(i)" @(i == (int)Model.Datatype?"Selected":"")>@FieldDataModel.DATA_TYPES[i]</option>
                }
            </select>
        </td>
        <td rowspan="3"><div id="desc_count_@(Model.ViewID)">Characters left: 100</div>
            <textarea id='Desc_@(Model.ViewID)' name='TypeSpecific[@(Model.ViewID)].Description'
               cols="40" rows="4" onkeyup="updateCounter(@(Model.ViewID));">@(Model.Description)</textarea></td>
    </tr>
    <tr>
        <td><label for='Req_@(Model.ViewID)'>Field required</label></td>
        <td>
            <div id="varchar_label_@(Model.ViewID)">
                @if (Model.Datatype == Fieldtype.Text)
                {
                    <label>Max size of input:</label>
                }
            </div>
        </td>
    </tr>
    <tr>
        <td style="text-align:center">
            <input type='checkbox' id='Req_@(Model.ViewID)' name='TypeSpecific[@(Model.ViewID)].Required'
            @(Model.Required?" checked":"") value="true">
        </td>
        <td>
            <div id="varchar_input_@(Model.ViewID)">
                @if (Model.Datatype == Fieldtype.Text)
                {
                    <input type='text' id='varchar_size_@(Model.ViewID)' name='TypeSpecific[@(Model.ViewID)].VarcharLength'
                        value="@Model.VarcharLength" style="width:50px">
                }
            </div>
        </td>
    </tr>
</table>

<input type="hidden" id="ID_@(Model.ViewID)" name="TypeSpecific[@(Model.ViewID)].ID" value="@Model.ID" />
<input type="hidden" id="ViewID_@(Model.ViewID)" name="TypeSpecific[@(Model.ViewID)].ViewID" value="@(Model.Name == ""?"-2":"0")" />

<br />
